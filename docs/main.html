<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>main</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="documentation-of-the-backend-part">Documentation of the Backend part</h1>
<blockquote>
<p>Deliverable D1</p>
</blockquote>
<h2 id="general-group-information">General group information</h2>
<p>| Member n. | Role | First name | Last Name | Matricola | Email address |</p>
<p>| --------- | ------------- | ---------- | --------- | --------- | --------------- |</p>
<p>| 1 | member | Gabriele | Gullì | 912875 | <a href="mailto:gabriele.gulli@mail.polimi.it">gabriele.gulli@mail.polimi.it</a> |</p>
<p>| 2 | team admin | Antonio | Chiappetta | 920821 | <a href="mailto:antonio.chiappetta@mail.polimi.it">antonio.chiappetta@mail.polimi.it</a> |</p>
<p>| 3 | member | Michele | Marabelli | 919995 | <a href="mailto:michele.marabelli@mail.polimi.it">michele.marabelli@mail.polimi.it</a> |</p>
<h2 id="links-to-other-deliverables">Links to other deliverables</h2>
<ul>
<li>Deliverable D0: the web application is accessible at</li>
</ul>
<p><a href="https://bookstore-hypermedia-fe.herokuapp.com">this address</a>. The backend application is accessible at <a href="https://bookstore-hypermedia-be.herokuapp.com">this address</a>.</p>
<ul>
<li>Deliverable D2: the YAML or JSON file containing the specification of the app</li>
</ul>
<p>API can be found at <a href="https://bookstore-hypermedia-be.herokuapp.com/backend/spec.yaml">this address</a>.</p>
<ul>
<li>Deliverable D3: the SwaggerUI page of the same API is available at</li>
</ul>
<p><a href="https://bookstore-hypermedia-be.herokuapp.com/backend/swaggerui">this address</a>.</p>
<ul>
<li>Deliverable D4: the source code of the web application at D0 is available as a zip file at</li>
</ul>
<p><a href="https://bookstore-hypermedia-be.herokuapp.com/frontend/app.zip">this address</a>. The source code of the backend application is accessible at <a href="https://bookstore-hypermedia-be.herokuapp.com/backend/app.zip">this address</a>.</p>
<ul>
<li>Deliverable D5: the address of the online source control repository is</li>
</ul>
<p>available at <a href="https://github.com/antoniochiappetta/Bookstore-Hypermedia-2019---FE">this address</a> for the frontend part, and at <a href="https://github.com/antoniochiappetta/Bookstore-Hypermedia-2019---BE">this address</a> for the backend part. We hereby declare that both are private repositories and, upon request, we will give access to the instructors.</p>
<h2 id="specification">Specification</h2>
<h3 id="web-architecture">Web Architecture</h3>
<p>We created a clear separation between the presentation layer and the application layer. The first one is handled by the browser that requests page assets, sends HTTP requests, and then renders the results on the client-side. The application layer instead is composed by a frontend server and a backend server. The backend server is responsible of the communication with the data layer to perform SQL queries on the relational database requested through the exposed API. The frontend server invokes this API to get the data needed in the pages and to perform actions on data generated by user interaction on the pages.</p>
<p>A diagram of the architecture is available at <a href="https://www.draw.io/?lightbox=1&amp;highlight=0000ff&amp;edit=_blank&amp;layers=1&amp;nav=1&amp;title=Koob%20Architecture.xml#R7Vxde6I6EP41Xp4%2BQELUy37Z3X26e7rL7nO2l6lE5SwSC9Hq%2BfUnkaCQUKUWELG9qGRIhmTmnZeZgHbA9XR5F%2BLZ5Ct1id%2BxDHfZATcdyzJNu8c%2FhGQVS3omjAXj0HNlp63A8f4jUmhI6dxzSZTpyCj1mTfLCoc0CMiQZWQ4DOlLttuI%2BtmrzvCYaAJniH1d%2Bo%2FnsolchW1s5Z%2BIN54kVzYNeWaKk85SEE2wS19SInDbAdchpSw%2Bmi6viS%2BMl9glHjd45exmYiEJWJEBzHu%2B82fmZ%2Bezjb5N4Y%2BbxfjyL9OK1SywP5crlrNlq8QEIZ0HLhFajA64epl4jDgzPBRnX7jTuWzCpj5vmfwwYiH9Q66pT8P1aDAYGPyPnxl5vp%2FIAxrw4Vf6EuSqFiRkZJkSySXdETolLFzxLslZJM0r8bUx98vWW5s%2Bk5SnLCiFWCJkvNG9NSI%2FkHZ8i01Bjk2Rz4QNKF%2BoAGtiHvQ8F%2F7nlgCj0dpQKREai8%2BHkETcPph5NOBj7%2FGKhIk%2BPr9YZdxVcx03ItvlH%2BmHHNdg3xsHvDnkl%2BbXA1fCJR6Pi0t5Yuq5rrhMLiCykCnDzb2smyHIcbOV5%2BbKvAxPPHKAtT9ygFFv5NilRs7lbOZzyJ514ECjcYGDTjxwUIHAqfuW0y01cG4ww2cbMQg2LmKqDhiBgsGgHPMpwbG5g%2ByzHqrKenqG%2BysSsG4tfhUH5LATrBO9edlwY9Gr5pnHh6%2BeZl6JqrbNCNY45NgQrjxjKRPCADQNwnpyMgh5KkECl0sdEi7aDGbQbRiYe6cEZthvGpj7Oh%2Fj4Z%2FzwLKtUsuxsZzsEp8GmNXK4vhgNvXSQtR%2BTzgi7UUxUnO8o6O4ACVzgrkUjzOEGX0cRd4w6wuy9Njv1PGjsNdF15bNm6W037qxShoBn%2F7vdCM9TLS349atZODrWy6v%2Biei83BIdlkh7sdwOCZsRz9ZTxA38%2BBG93bKm3aONxNZSHzMvAXJTDbPxfIKD9Rbb6jkl7tdFSTxsuWgLU40PaadVQRNRVFsF03RGnCbVb8Dg%2Fp97WAMGhkMWgUxaGYxaB0Dg6AgBs1GYVDFDrDtA0GoZluqoopBaBW4nRcG4Zb8HlOn9hFhCnePaVAWBWHPegIIKfdBLndt0nNhLeBEH%2BBMK%2BJowatUt5noEO1gdLVg6xs75wXUDbdsf34Qz6DcSNETt8soIvG62pm2WWra1j1y2paQUzlsZR3EVh9kVW42pxa46ECyUh%2Bua4rKIitTJR9797xUEs32r4is9EcAn37%2BfOCSH%2BR5TqJWs5YKBGnwTM2f%2B5ZFZbRVZqafpS2jKG11M7xlvJW3XPSE7BzeGo1G1nD4Lt5CBXmrYVWoEtYbHnszb%2FX2KCqJt9SkKUm6XpuXmpQp%2FavhrWTtGd76es91XTsO%2F%2F%2FFaTFvvWLwNKD7ddIWKPAWRHHaOoi1rA%2FWKpe1bJVsDsy2IKyJtVSaRXtYy9zZvyLW0suSL87f39bZVjSjQZu39q0kzU4MDnXWqjfbgqUWiS2jrV6j6AiptZRxYBKlvnOrKSqJjmyVP%2FfQkTqvWugI6sXf2dARVB10fDrKe8P%2BTPas9mZHzaIjjUWQdXFgfmSrW6e6qpIoSZt0v3uxe0dKJTHQ79VASvobfWezIwXVPc6Ni45IS3nfXzgTWmoI3djqYy%2B7fxjZdNUdTxtVRDbalPvwbTPrw4satr%2FtIjsXHASObNKQTeiYBti%2F3UoVHtj2uad0JgH7L2FsJb9CjeeM7qKrct6XgL2Ct1ZY9DlPYRS%2Fj2%2F0N66c7%2Fdc8H1OQo%2B0mP21IkfGzBG5v9TnEadVITeE%2B7tWdtvk4MrX7u5RVBLzqxPeV%2Fmq86ql8k2ckwK2oJdVXPrO%2FTYnmdp3ZCusfDvi6yTJr2jEztv%2BFgm4%2FR8%3D">this address</a></p>
<h3 id="api">API</h3>
<h4 id="rest-compliance">REST compliance</h4>
<p>We made use of the REST principles to create an API that allows client and server to grow independently, and that provides a uniform interface where everything related to books is under the path books/ and same goes for authors, events and user.</p>
<p>The only point where we didn’t comply with the REST principles was the stateless property of the authenticated requests. As suggested by the istructors, we used HTTP cookies to store the user identifier of the currently logged user and authorise the following authenticated requests.</p>
<h4 id="openapi-resource-models">OpenAPI Resource models</h4>
<p>The main entities involved in our bookstore are Author, Book, Event and User. Author, Book and User more or less contain the attributes requested in the specification by the instructors, while the Event is modelled to use as name the name of the corresponding book (e.g. “Presentation event of bookName”) and as location the combination of venue, address and city. The book also contains a list of Authors’ IDs to quickly access the writers information.</p>
<p>For each of them we created a resource model. In these models all the properties are mandatory except for the ones that can be absent in creation phase:</p>
<ul>
<li>ID of Author, Event, User</li>
<li>Number of soldCopies for a Book, it starts from 0</li>
<li>isAdmin property of the User, that defaults to false and is used to check if the authenticated User is authorized to perform some back office operations (not intended to be performed in the e-commerce web application) like the creation, update and deletion of authors, books and events. These entities are read-only for the client application.</li>
</ul>
<p>Other useful resource models refer to the interaction between the user and the books in the form of Review and Shopping Bag. The first can be created and deleted but not updated, and contains a description, a date and a numerical rating. The latter refers to the bag relative to a single book, with an indication of the number of copies bought and their version.</p>
<h3 id="data-model">Data model</h3>
<p>An ER diagram of the data model is available at <a href="https://www.draw.io/?lightbox=1&amp;highlight=0000ff&amp;edit=_blank&amp;layers=1&amp;nav=1&amp;title=ER%20Diagram.xml#R7V1bd5tIEv41Pmf2wRz63v3oWzLJejKZOE428zJHsbBFIgsF4dieX78gCQmq2xhJ0KB29GBbgEGqqv7q0nU5ICe3D6%2FjwXT0RzQMxgfYHz4ckNMDjBFiMv2VHXlcHJGILg7cxOFwedH6wEX4b7A86C%2BP3oXDYFa6MImicRJOywevoskkuEpKxwZxHN2XL7uOxuWnTgc3gXbg4mow1o9%2BDofJKP9evr8%2B8XsQ3oyWj5ZseeLr4Or7TRzdTZbPO8Dkev5anL4d5PdaXj8bDYbRfeEQOTsgJ3EUJYu%2Fbh9OgnFG25xsi%2F979cTZ1eeOg0lS5x%2FeXLz95%2BPlu4tXl%2FdschP%2F98sonh0u7%2FJzML4L8q8x%2F7DJY06g%2BVcMspugA3J8PwqT4GI6uMrO3qcikR4bJbfj5Wn9Q%2BVPCOIkeCgcWn7I10F0GyTxY3rJ8iwmS4ItBWpFwPsCe%2FJjowJn%2BPLYYCkRN6tbr6mS%2FrEkzAZEYgYi8XH61OPrKP2aRWrxH3dRfuJwNhf2o%2FQCxKcP65PpXzfZ7%2BMo%2Bp7fKf1gi5stTmlcSImXlEk9S%2BLoe3ASjaM4PTKJJkH23HA8BocG4%2FBmkr69SlkSpMePM1aE6QI4Wp64DYfD7DFG3q657zfEXgHYS3X2UgN3cVvc5c8vgWAyPMqgZk3UAh9SUsSP%2F8sI5LH87ZfiudOHJfUW7x7zdw9hsvg3zJZvvxROrf8re%2FP4HAOSQXwTJBVfcwnTwbAEhzqbCmxgBjbkx%2BJgPEjCn2UQNfFm%2BYT3UThfKrkUMOQxuMw9pHwq%2BPInK99zFt3FV8HyNkWYM9xZSCYQxfOfhJQeg5TyCmexKj9lQUbtKXPBWhFpe1mTNWRtPE5V31PLsSB3g9l0oQ%2Bvw4dsgS4BIVdiCKBBqp78%2BauhZUw5YCCSTMdpgwShthay0oj75uL4ncNISuAaQlxngVUsRfhlgCki%2FUJTwT3KMJG%2BWvzk7UBr9WPSm1c%2BpmVszXnSEbi%2Bmr%2BaspG0lc0MRrBNcEW6EfxqcDU3fkdBkDiMspSWOUF0TuSwawdjdzZYG8XKnkAg8ZENCMweA1amAoxuG%2BaEOzCndBuya5jTLfT34VVyFwcOIxxXZSbwjhEuv7EDIr5ChxyHDNrDqoDnpGzAQi%2Fa57kuqTDRn6Tm89Z2rzQN9iFLt45UlG9EfLuaBOsG89HXdHXMzTpXwQ5p0WXdZbYLdvT5BblRCN6uCsdl3cHXMYnOwvXYFK%2BHFB1Ft1%2FvZn2jpgSIYNDEJlKS1kjZfXC8ARdlAcg1JGbPNBHEMg6thrqaCAG5Y3Bttq2J6vg09VxaK%2BJCeyUGWCrgRlFOqzY5ahsowHglll1drDtjcXAVpJQaumugYCQAN4khqm%2FXRNF3Vn5Ln3Uy%2BY%2FDbFASblBKk2lDpEVGEN15%2By39GifIZUbIcvyVIxMbrK4HYtppaCIh5EPwMwzuX15KCAhAcWZisdWNTFLDK3t5QXbMiKeeDrJnzh8vBtm3NDsYWPHrmLslw4PU8CD3JACJaXltMWV00G2GIElzTmVTIci%2BrC8YTUGa5NdeRFK%2FFS6mRdldUN1uWjWa%2BIQAYX3e%2BYLS%2FaQ3pw6bCxjuwTLRuU1Ia2RS74nKQBA6aOcSTnXH55fKWPyDetJ23lhlQO0DM2mtqgyqO1kfUkJNbtwFNgQZQLuHtTp%2B0J7CGu8e1ur4Gb9gLWOWaA7WRKewpjs%2Fp8HsKg6nSRhNHMY2aDbz7rFt512n9eYm3mh380l6PrsB2betJ1bmqsDbL1P%2BZJzX1tLstjqn0agPCKEV%2BNKZrtM3kU4HictplRhmtwpjcoxVzMvXfZ8KfleB4nyjbb0D2l3Jr8mdb2KL5%2BguGaVC%2B9K2eKQPeExMPLa6xcNqxBRaSBOLo2QwN%2FXI6aFqiLoMZJKuUlK7yhtjbTk2z%2Fk15kSgfEOu6USgXISeNdty%2FvTEbFth6col2jZxDBTzc7haWzbZWFv5iX5NOUMFKVvLXNNyVtc7yOWxJ2JGGCjCym3ATcWM0qxoHyuKkOBU%2BALe1lPCZ1KmT8wuonZlUHcj7%2BMwSYLUm%2Fe%2FPrqr01mNRi3cqkbXHbh5epTLeWqEwHRBU4mRXR%2FDkC7oOhuEL8FaMNm3VtnAa7h6LvRiyL3Hnig9IaQp0aLg25LdM7OrH4JU5UNa1ofc5DrbC6M1meshBCCsxF2H0bjutbqc6yFYGVcRN3HAbr8wXb05iauiXz6rRH6xwYMeMuQNtHeofAiS1Q9pGVdFHX2%2BH9sT0mew8QM1xnxtIqvQ9dbFKIoz6fgaRg5DrAAQ273pKnQltyHEuph9LwmzgIBEW5pSWN6IFe508pLEh%2BQU3SOdntTlfJMb6QNTnnWPcjtvkhiD0LitKHTPNjEkrYJD3AwcKqT1qSXYNhzW2eTYDzg0kNNobdiFQ92heze4dRgLFYKZKemrazSUO4crG0XDvoCc9D1ViPSBaCLDxl7XDaAcs41yUne%2FHEK57t1bqftU54NZJgQTt8FOqxbDtHuwq%2BPhbJMfI7ZLkGmrU05ecrFvjZXgjAoJBKHt%2FJiU8YPHwmXT7IJZxQemwPxdSvNaRhd3bBaxawTC%2B9lnDWmd81etjrrKmFM7mz%2FbFiPYTZnbV0ToOmNuV0QgS0I8XX7hV13fDoIoXQ3OwttwPIgzCXE45s41B8zYloPZtEmUnsfmfpcvhCEjDB3IrZqGypDE5jobYLUnpvpaIAZwb48JdUyb3jblZbwcJuDEWOlstaBmNU%2BxoqImnw2Z18wQvXzmcpaK60srnuFg74IzEz%2FtDnryaxTP7kn1DAUtsszt56x6A8ivU4vaapJRKYra1paSqu0N5PLWE38AtlWTOxQ%2BA%2BUn9FYHbY%2BU8dtKaduyjEbKSnnL3rwP4jD93hk6N9TN%2BZcMdiqDSLcPptEsyVo9O11Fs0rPrjTWrNbRIKTvxThfwcF8wAdj1zO7k94M4zSd7%2FdMKIzN9oITzW3YeIjQkkXm%2Bf7qwFN6MnsHVZ7drRyE6urJXJf0RE0yAXQblJK6SpJRYWocld%2BWVc5caF19dtuorcmqG5bnJ64Y1nmjNmQYf%2Bpy2Q3TAtTC2IvQ5BS3CMI7uykupoVzXz2dB5mtnQZasmfPAEp5PbvTFsQ5NBaS%2BxSurx6AHNbN%2FrPD20E4dhjoJCx3MANd3oDYDtDlgv0L6EogRGRx%2BkQ7QEeAF9gBzLlT%2FcIJsJENwzYtQ5yh9OXeXXjjILjUByuuznjOl5fozSWuSPTOdvwqehbXbhuBCDTjmH18c6ecxUTPzhutIsM0TbfrWQSCs%2Fr6EDI0TK%2F8hXPP4ZxoC%2BeEfZyrE63YW5wzTtyxi3NEjwe8iIoWgTVuGEdZ2IW7OhMT9yQhiPmwpx41ZIXaTQiqNZJw%2Fyex108IyuWtJ3qNcbAkidY1o3a3U8y8rMtp3tAUzDrj2EP62YbLBzguK2aqLBQUod0nQ24hrIWFoZDYaGmYdmW3l%2F2VSO9ZbQwTHMqKp4qv7ZZBXoGySgoXohVRJ9SHH7%2F6c4HrCbZQKYOIbk1ejKLpdD4QzT8e9HUsWkE%2FN5UwpQC%2FzJ1crMa0qG6KOl%2B0QVXvBrMjwxRO5%2FnAMa%2FBB2qVD4YW0NsqcrXIllrFP%2FzqytRmc4P7pWgJFcWdfjh%2BPeWnhxroeURAKShSQE7ajpwYetzq0rMfkRPCytY7kl1HTbjuSH4IxsEgpSX23Z7IBS23FS0KzFBW7YZaPV1revU%2BLjkvGVI268DsmVuyWkNPwVjtkn0w54JaHnKDDJ1p9xUPsRZaQ4bOG3YR0dBt9nUwiYO8zvRr7H6JaaGzfc4XofPFtFqbAMfji9n0058n8vzfV4O7cxJ%2BvpwNDhsc7YQYL0Mjpu3FdoxfJpfevYtrpl4eEAxGQBymdv68jz21nOCURS9BAj1DwhOrEU9ZDWBLIFvJIAcwlkqYrMsItoaxZurqEPvX3WCShInLlX1cXzrK4JrnU9KaRtXrbz8Uuj47u%2Fv69s3xt%2Bmbi%2B%2Bfzg%2FrmBL9H17RE3AkxC9mpLbmkBPkZZNQOPa5VBxM1UN8rs%2BIUAT5hNL2gNMoUA756trAZsTseetG4uqpwB%2FDZOyyiw6qcJFhki1tCS8%2Fhzjyh7%2B%2FORWXb0cfTsKP8YwZOLAtXm6Dlmh3qCyapsZvWHfTMe%2Fc1xPsRVqTXbJtTz6s9%2BuV9bbVtwDRKh44AKLI19hiWMJtgaiRuHrAc9lk0Gnrk0FlRgxN1dranbu7RK%2FfPXz7cH0uP%2BLJu2%2FvxOhid9NzZUKKBjqV9gTGskRKnyvBBaVIch%2FsqWblRwhxLNTiou0AjucRxLwMhLTY3sXIe3esRK6XRlst3TSSV7dSjoa34cRddIN1eubCprbg7fTd5Z9n4i3%2B%2Fubvz%2BKGvY4%2BsfNa8cr9EHFGYDCYGWZKtyXgRuLqJS2fgniW5RU5K%2BIMw9FhjBpC8i05Q0Yu1AmSbtQWtQEyCZCpSoQBi9tqdWqmksnQKXc6XZEr72%2BanThcNEA9Si9AfPqgNz89%2BxnM252%2BrO6nAnSzJcoQEmhpY8rM3xqp%2BHtb6UAsDkIwU7dGY9n96nxaCaXFsEultPXEX4HNmRjeMqhNJau%2BUUPp3Qxks1G%2F2UoGM9Oaqv1svOpmH2SM%2BmV3VYvGbV1CAHV%2BQzK2yggyy9iz1%2Befq12Z1HNy%2B91MsvnSAcIooLvJayQ2vcYcGF4wVzgrDyCnSDdBrHryhg480ziYZcQbZs9L9iYzrIXqGwGTS4gwjdMTNv1SQyW4rm73I%2FYiOSzuJtxEX6vRF6J7tBep6kzCyY3bGeNSatywOjfczA1dZTgk7bJ7adfh%2F2wyfImyLrqXdXd2xiUvG5%2FU717S9UjWp2By57SQl11LoroXcXc2jjQRN46VtyviejjxaDhMrfnZyxFyiroX8joBsX0RctAbyDhO3K6Q66GdE6eTm3RbhZLOZdzQfECX8aqg75OEqb2b0JMArkoB5%2Bkmf0yU52jg8u3rBnc1ZUO1jksbh3d3SHsyi0QdV23z9OHCztZGg9VE57tZubHTE0GVzPfWBWkwPEzplvsOEmySFVrU9Ec0d85sN8%2Fuq5SwbcXZhmT2q%2B5S8krJZNtKpgQ34j2UzDo%2Bf%2BONc%2FssmrhfoikqRZNvK5qgnxQVPRTN5rpwNiRlzwtPv0xDibR0vW37ZCqQLE9l%2FwSGNWcAbpbN9KTA9EQOBENQDraTAu1GmSO49i1kniDbfKGDmeEva1CcIHB%2BEvENGRVIl6Mm3PB%2Fflz%2FOPtzEp9fPnz%2B%2Bzu5x1%2FCUYMV7pusN7sJW1wH%2F73oJsJ87lGumOJUpXYEMEYZxR71KRZUUqVYDu8b9xlByhO48Co%2FBCFPFl6gO21z8GAUTndmOxGQv4mtbmcZiduU3%2BB7KrVFS00nJa1cyaauk6XWbCXd7XvCdmtpHS%2BqxLMnaEEY8ortM8olX6kB6BVabzC8JVysysZXgtxaezcjzXWD4X0cXjm8B0tAR3tkKuhoKXBv5IA7e1MrGq0amHQOyjt3Ai7AqCzB6GHW4vLZQHj15HROSQHokeeTzYG%2BFixXCd6%2BNdaE2esQMGv33aDEQ4oiQQUTWCJWDg2kroTHuVI%2BVgjzdSsYS7hsKHb8OApuX1ZbSNBrHxETnrTVFtLMljoRlf0YdC9ouZMXaa%2FKOn0bR1kx6XqFpMQY%2FRENg%2ByK%2FwM%3D">this address</a></p>
<p>The tables here represented are almost completely mapped into the resource models shown before. Some things to say regarding the relationships are:</p>
<ul>
<li>writtenBy relationship, that has been translated as a table in the actual DB, is represented in the API in two different ways because User’s model has a property with the list of authors’ IDs to quickly access authors’ information, while  to navigate from the author to its books there is a dedicated endpoint.</li>
<li>shoppingBag has become a table in the DB and also a resource model, with pointers to both the User and the Book.</li>
<li>presentedAt, received and postedBy have been traslated as an attribute in one of the two related tables, and also in the resource model one model contains a pointer to the other model.</li>
<li>similarity becomes a table in the DB, but since it only links books, there was no need for another resource model.</li>
</ul>
<h2 id="implementation">Implementation</h2>
<h3 id="tools-used">Tools used</h3>
<p>We developed our relational database with PostgreSQL v11.3 and made use of the pgAdmin tool to set it up.</p>
<p>The backend application is a Node.js application that makes use of the code generated by Swagger codegen tool to create a middleware pointing at the routes defined in the OpenAPI specification. We also used the framework Express.js to handle the routing of all the deliverables, including this one.</p>
<p>Heroku is the cloud platform we used to deploy our applications (both the frontend and the backend) and setup a continuous delivery mechanism thanks to Heroku’s tool that lets us link aa Github branch of our project to perform automatic deployments at every push on the repository. The integration with the PostgreSQL database was made possible by the free add-ons that lets developers create a flexible datastore that can be dynamically resized and moved to other psysical machines by the provider without affecting the application that accesses it, thanks to the environment variable DATABASE_URL whose pointer is modified by Heroku itself when necessary.</p>
<h3 id="discussion">Discussion</h3>
<p>We used Swagger codegen tool to automatically create controllers and services that use the node package swagger-middleware to point to the routes we defined in our OpenAPI specification and use our resource models.</p>
<p>Our application is well partitioned because of the clear separation between the backend server that is the only one interfacing the DB and that provides a RESTful API to operate on it, and the frontend application that acts as a client towards the backend to request REST resources and as a server for the end user (and its browser) to show pages and invoke the APIs in response to user interaction with the page. In the frontend itself, there is a separation between the provided pages and static assets like stylesheets, scripts and images.</p>
<p>Session state is managed through HTTP cookies. When the frontend invokes a POST to login the id of the user is saved in the session object to be retrieved later and perform a check before performing each request that requires authentication. If the user requesting the resource is not logged a 401 message is returned, otherwise the request is processed correctly. When the user invokes a POST to logout the userId is removed from the session object.</p>
<p>We used a relational database to manage the data model because the nature of the entities and relationships occurring among the entities suggested this type of structure could perform better. Our data model is well structured and does not need dynamic schemas, that’s why the use of SQL is perfect.</p>
<h2 id="other-information">Other information</h2>
<h3 id="task-assignment">Task assignment</h3>
<p>We used an Agile approach to the development of the project, with weekly meetings where we divided our tasks equally and checked the progresses of the previous week.</p>
<p>We started from the development of the OpenAPI spec, C-IDM and L-IDM schema, ER and ER logic schemas, where all the members were involved in every decision.</p>
<p>From there on Antonio worked mainly on the backend, Gabriele on the presentation layer of the frontend and Michele on the application layer of the frontend. At every weekly meeting we explained each other the recently implemented features and helped each other when some strange bug was blocking one of us from going on with the development. In this way, everybody could constantly understand what was going on in every part of the project.</p>
<p>At the end of the development we reviewed together the two implemented applications, checking they were coherent with design choices made before and perfectly interfacing one another. In the last weeks of team work we worked together at all the documents to be delivered both for the backend and the frontend part.</p>
<h3 id="analysis-of-existing-api">Analysis of existing API</h3>
<p>To follow in a proper way the principles of RESTful APIs we used as main inspiration APIs developed for projects in our job environment, where the presence in the team of 5 to 8 members and a clear division of roles for the development of the system needed a clear and well-defined strucure of the RESTful API to allow every member to work independently from one another right from the beginning.</p>
<p>We also looked for examples relative to bookstores on the website <a href="http://openlibrary.org">openlibrary.org</a> and <a href="http://programmableweb.com">programmableweb.com</a>.</p>
<h3 id="learning-outcome">Learning outcome</h3>
<p>Antonio learned how to interface a backend with a relational database through SQL queries, he had only done that with no-sql databases before. He also learned how to setup continuous delivery on a cloud platform.</p>
<p>Michele learned how to automatically generate code from an OpenAPI spec and integrate it in a Node.js project.</p>
<p>Gabriele learned how to setup an HTTP cookies-based session management system and how to deploy and start an application on a cloud platform.</p>
</div>
</body>

</html>
